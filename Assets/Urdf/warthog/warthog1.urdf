<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from warthog.urdf.xacro             | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="warthog">
<gazebo>
    <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
    </plugin>
  </gazebo>

  <gazebo>
    <plugin name="warthog_suspension_plugin" filename="libwarthog_suspension_plugin.so">
      <suspension_k>10000</suspension_k>
      <suspension_b>500</suspension_b>
    </plugin>
  </gazebo>

  <gazebo>
    <plugin name="imu_controller" filename="libhector_gazebo_ros_imu.so">
      <updateRate>50.0</updateRate>
      <bodyName>imu_link</bodyName>
      <topicName>imu/data</topicName>
      <accelDrift>0.005 0.005 0.005</accelDrift>
      <accelGaussianNoise>0.005 0.005 0.005</accelGaussianNoise>
      <rateDrift>0.005 0.005 0.005 </rateDrift>
      <rateGaussianNoise>0.005 0.005 0.005 </rateGaussianNoise>
      <headingDrift>0.005</headingDrift>
      <headingGaussianNoise>0.005</headingGaussianNoise>
    </plugin>
  </gazebo>

  <gazebo>
    <plugin name="gps_controller" filename="libhector_gazebo_ros_gps.so">
      <updateRate>20</updateRate>
      <bodyName>base_link</bodyName>
      <frameId>base_link</frameId>
      <topicName>navsat/fix</topicName>
      <velocityTopicName>navsat/vel</velocityTopicName>
      <referenceLatitude>$(optenv GAZEBO_WORLD_LAT 49.9)</referenceLatitude>
      <referenceLongitude>$(optenv GAZEBO_WORLD_LON 8.9)</referenceLongitude>
      <referenceHeading>90</referenceHeading>
      <referenceAltitude>0</referenceAltitude>
      <drift>0.0001 0.0001 0.0001</drift>
    </plugin>
  </gazebo>

  <gazebo reference="base_link">
    <turnGravityOff>false</turnGravityOff>
  </gazebo>

  <gazebo reference="base_laser_link">
    <sensor type="ray" name="head_hokuyo_sensor">
      <pose>0 0 0 0 0 0</pose>
      <visualize>false</visualize>
      <update_rate>20</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>720</samples>
            <resolution>1</resolution>
            <min_angle>-1.57</min_angle>
            <max_angle>1.57</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.10</min>
          <max>100.0</max>
          <resolution>0.01</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </ray>
      <plugin name="gazebo_ros_head_hokuyo_controller" filename="libgazebo_ros_laser.so">
        <topicName>base_scan</topicName>
        <frameName>imu_link</frameName>
      </plugin>
    </sensor>
  </gazebo>
  
  <gazebo reference="chassis_link"><material>Gazebo/Black</material></gazebo>
  <gazebo reference="base_laser_link"><material>Gazebo/Blue</material></gazebo>
  <gazebo reference="diff_link"><material>Gazebo/Grey</material></gazebo>
  <gazebo reference="bulkhead_link"><material>Gazebo/Black</material></gazebo>
  <gazebo reference="arm_mount_link"><material>Gazebo/Grey</material></gazebo>
  <material name="dark_grey">
    <color rgba="0.2 0.2 0.2 1.0"/>
  </material>
  <material name="light_grey">
    <color rgba="0.4 0.4 0.4 1.0"/>
  </material>
  <material name="yellow">
    <color rgba="0.95 0.816 0.082 1.0"/>
  </material>
  <material name="black">
    <color rgba="0.15 0.15 0.15 1.0"/>
  </material>
  <material name="white">
    <color rgba="0.9 0.9 0.9 1.0"/>
  </material>
  <material name="red">
    <color rgba="0.9 0.0 0.0 1.0"/>
  </material>
  <link name="front_left_wheel_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="15"/>
      <inertia ixx="0.41562499999999997" ixy="0" ixz="0" iyy="0.6749999999999999" iyz="0" izz="0.41562499999999997"/>
    </inertial>
    <visual>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/wheel.stl"/>
      </geometry>
      <material name="dark_grey"/>
    </visual>
    <collision>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.25" radius="0.3"/>
      </geometry>
    </collision>
  </link>
  <joint name="front_left_wheel_joint" type="continuous">
    <parent link="left_diff_unit_link"/>
    <child link="front_left_wheel_link"/>
    <origin rpy="0 0 0" xyz="0.457367 0.0 -0.012977"/>
    <axis xyz="0 1 0"/>
  </joint>
  <link name="front_right_wheel_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="15"/>
      <inertia ixx="0.41562499999999997" ixy="0" ixz="0" iyy="0.6749999999999999" iyz="0" izz="0.41562499999999997"/>
    </inertial>
    <visual>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/wheel.stl"/>
      </geometry>
      <material name="dark_grey"/>
    </visual>
    <collision>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.25" radius="0.3"/>
      </geometry>
    </collision>
  </link>
  <joint name="front_right_wheel_joint" type="continuous">
    <parent link="right_diff_unit_link"/>
    <child link="front_right_wheel_link"/>
    <origin rpy="0 0 0" xyz="0.457367 -0.0 -0.012977"/>
    <axis xyz="0 1 0"/>
  </joint>
  <link name="rear_left_wheel_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="15"/>
      <inertia ixx="0.41562499999999997" ixy="0" ixz="0" iyy="0.6749999999999999" iyz="0" izz="0.41562499999999997"/>
    </inertial>
    <visual>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/wheel.stl"/>
      </geometry>
      <material name="dark_grey"/>
    </visual>
    <collision>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.25" radius="0.3"/>
      </geometry>
    </collision>
  </link>
  <joint name="rear_left_wheel_joint" type="continuous">
    <parent link="left_diff_unit_link"/>
    <child link="rear_left_wheel_link"/>
    <origin rpy="0 0 0" xyz="-0.457367 0.0 -0.012977"/>
    <axis xyz="0 1 0"/>
  </joint>
  <link name="rear_right_wheel_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="15"/>
      <inertia ixx="0.41562499999999997" ixy="0" ixz="0" iyy="0.6749999999999999" iyz="0" izz="0.41562499999999997"/>
    </inertial>
    <visual>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/wheel.stl"/>
      </geometry>
      <material name="dark_grey"/>
    </visual>
    <collision>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.25" radius="0.3"/>
      </geometry>
    </collision>
  </link>
  <joint name="rear_right_wheel_joint" type="continuous">
    <parent link="right_diff_unit_link"/>
    <child link="rear_right_wheel_link"/>
    <origin rpy="0 0 0" xyz="-0.457367 -0.0 -0.012977"/>
    <axis xyz="0 1 0"/>
  </joint>
  <link name="left_diff_unit_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0 -0.05 0.197"/>
      <mass value="50"/>
      <inertia ixx="1.980416666666667" ixy="0" ixz="0" iyy="9.135416666666668" iyz="0" izz="9.135416666666668"/>
    </inertial>
    <visual>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/rocker.stl"/>
      </geometry>
      <material name="black">
        <color rgba="0.15 0.15 0.15 1.0"/>
      </material>
    </visual>
    <visual>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/fenders.stl"/>
      </geometry>
      <material name="yellow">
        <color rgba="0.95 0.816 0.082 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/fenders.stl"/>
      </geometry>
    </collision>
  </link>
  <joint name="left_diff_unit_joint" type="revolute">
    <limit effort="100" lower="-0.4" upper="0.4" velocity="1"/>
    <parent link="chassis_link"/>
    <child link="left_diff_unit_link"/>
    <origin rpy="0 0 0" xyz="0.0 0.56821 0.0"/>
    <axis xyz="0 1 0"/>
    <dynamics damping="100" friction="0.5"/>
  </joint>
  <link name="left_diff_unit_headlight_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 -0.0244 0"/>
      <geometry>
        <mesh filename="package://meshes/light.stl"/>
      </geometry>
      <material name="white">
        <color rgba="0.9 0.9 0.9 1.0"/>
      </material>
    </visual>
  </link>
  <joint name="left_diff_unit_headlight_joint" type="fixed">
    <parent link="left_diff_unit_link"/>
    <child link="left_diff_unit_headlight_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="left_diff_unit_taillight_link">
    <visual>
      <origin rpy="0 0 3.141592653589793" xyz="0 -0.0244 0"/>
      <geometry>
        <mesh filename="package://meshes/light.stl"/>
      </geometry>
      <material name="red">
        <color rgba="0.9 0.0 0.0 1.0"/>
      </material>
    </visual>
  </link>
  <joint name="left_diff_unit_taillight_joint" type="fixed">
    <parent link="left_diff_unit_link"/>
    <child link="left_diff_unit_taillight_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="right_diff_unit_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0.05 0.197"/>
      <mass value="50"/>
      <inertia ixx="1.980416666666667" ixy="0" ixz="0" iyy="9.135416666666668" iyz="0" izz="9.135416666666668"/>
    </inertial>
    <visual>
      <origin rpy="0 0 -1.5707963267948966" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/rocker.stl"/>
      </geometry>
      <material name="black">
        <color rgba="0.15 0.15 0.15 1.0"/>
      </material>
    </visual>
    <visual>
      <origin rpy="0 0 -1.5707963267948966" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/fenders.stl"/>
      </geometry>
      <material name="yellow">
        <color rgba="0.95 0.816 0.082 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 -1.5707963267948966" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/fenders.stl"/>
      </geometry>
    </collision>
  </link>
  <joint name="right_diff_unit_joint" type="revolute">
    <limit effort="100" lower="-0.4" upper="0.4" velocity="1"/>
    <parent link="chassis_link"/>
    <child link="right_diff_unit_link"/>
    <origin rpy="0 0 0" xyz="0.0 -0.56821 0.0"/>
    <axis xyz="0 1 0"/>
    <dynamics damping="100" friction="0.5"/>
  </joint>
  <link name="right_diff_unit_headlight_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0.0244 0"/>
      <geometry>
        <mesh filename="package://meshes/light.stl"/>
      </geometry>
      <material name="white">
        <color rgba="0.9 0.9 0.9 1.0"/>
      </material>
    </visual>
  </link>
  <joint name="right_diff_unit_headlight_joint" type="fixed">
    <parent link="right_diff_unit_link"/>
    <child link="right_diff_unit_headlight_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="right_diff_unit_taillight_link">
    <visual>
      <origin rpy="0 0 -3.141592653589793" xyz="0 0.0244 0"/>
      <geometry>
        <mesh filename="package://meshes/light.stl"/>
      </geometry>
      <material name="red">
        <color rgba="0.9 0.0 0.0 1.0"/>
      </material>
    </visual>
  </link>
  <joint name="right_diff_unit_taillight_joint" type="fixed">
    <parent link="right_diff_unit_link"/>
    <child link="right_diff_unit_taillight_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="base_link"/>
  <joint name="base_link_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.025"/>
    <parent link="base_link"/>
    <child link="chassis_link"/>
  </joint>
  
  <link name="chassis_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="100"/>
      <inertia ixx="4.833333333333333" ixy="0" ixz="0" iyy="15.937500000000002" iyz="0" izz="15.937500000000002"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/chassis.stl"/>
      </geometry>
      <material name="black">
        <color rgba="0.15 0.15 0.15 1.0"/>
      </material>
    </visual>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/e-stop.stl"/>
      </geometry>
      <material name="red">
        <color rgba="0.9 0.0 0.0 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/chassis-collision.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="top_chassis_link"/>
  <joint name="top_link_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.27218"/>
    <parent link="chassis_link"/>
    <child link="top_chassis_link"/>
  </joint>
  
  <link name="base_laser_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="1"/>
      <inertia ixx="0.0014583333333333334" ixy="0" ixz="0" iyy="0.0014583333333333334" iyz="0" izz="0.0012500000000000002"/>
    </inertial>
    <visual>
      <origin rpy="1.57 0 1.57" xyz="0 0 0.025"/>
      <geometry>
        <mesh filename="package://meshes/Sensor.stl" scale="0.0015 0.0015 0.0015 "/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.1" radius="0.05"/>
      </geometry>
    </collision>
  </link>
  <joint name="joint_sensor_laser" type="fixed">
    <origin rpy="0 0 0" xyz="0.3 0 0.2"/>
    <parent link="base_link"/>
    <child link="base_laser_link"/>
  </joint>

  <!-- This link is purely to complete the visual look -->
  <link name="diff_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/diff-link.stl"/>
      </geometry>
      <material name="light_grey"/>
    </visual>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/susp-link.stl"/>
      </geometry>
      <material name="light_grey"/>
    </visual>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://meshes/susp-link.stl"/>
      </geometry>
      <material name="light_grey"/>
    </visual>
  </link>
  <joint name="diff_link_joint" type="fixed">
    <parent link="chassis_link"/>
    <child link="diff_link"/>
    <origin rpy="0 0 0" xyz="-0.5826 0 0.24979"/>
  </joint>
  <link name="imu_link"/>
  <joint name="imu_link_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="chassis_link"/>
    <child link="imu_link"/>
  </joint>

  <!--
    As you add to this URDF, please be aware that both the robot and
    simulation include it. You must retain compatibility with all of
    the following launch files:

    warthog_viz/launch/view_model.launch
    warthog_gazebo/launch/warthog_world.launch
    warthog_base/launch/base.launch
  -->
  <!-- This file is a placeholder which is included by default from
       warthog.urdf.xacro. If a robot is being customized and requires
       additional URDF, set the WARTHOG_URDF_EXTRAS environment variable
       to the full path of the file you would like included. -->
  <!-- This file is a placeholder which is included by default from
       warthog.urdf.xacro. If a robot is being customized and requires
       additional URDF, set the WARTHOG_URDF_EXTRAS environment variable
       to the full path of the file you would like included. -->
</robot>

